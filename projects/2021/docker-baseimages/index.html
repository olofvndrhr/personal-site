<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content="index, follow" name=robots><link href=https://vsfl.org/rss.xml rel=alternate title=RSS type=application/rss+xml><title>Personal site | docker baseimages</title><link as=style href=https://vsfl.org/css/style.css rel=preload><link crossorigin href=https://raw.githack.com/Speyll/suCSS/main/reset-min.css rel=stylesheet><link crossorigin href=https://raw.githack.com/Speyll/suCSS/main/suCSS-min.css rel=stylesheet><link href=https://vsfl.org/css/style.css rel=stylesheet><link href=https://vsfl.org/css/custom.css rel=stylesheet><link href=https://vsfl.org/favicon.ico rel=icon><body><nav id=nav-bar><a href=/> /home/ </a><a href=/about> /about/ </a><a href=/projects> /projects/ </a><div aria-label="Toggle theme" class=theme-toggle data-icon-base=https://vsfl.org/icons.svg data-icon-dark=#darkMode data-icon-light=#lightMode data-sound-src=https://vsfl.org/click.ogg id=theme-toggle role=button tabindex=0><svg class=icon><use id=theme-icon></use></svg></div></nav><main><article class=post><header class=post-header><time datetime=2021-11-04>Published on: <span class=accent-data>2021-11-04</span> </time><address rel=author>By <span class=accent-data>Ivan Schaller</span></address><h1>docker baseimages</h1></header><div class=post-content><blockquote><p>the code for this project is hosted on my private <a href=https://forgejo.org/ rel=noopener target=_blank>forgejo</a> instance</blockquote><p>This is a relatively small project.<p>As i deploy quite a few containers myself, some of them eventually have be customized. For this use case i created my own base-image, to have a common starting point. The image uses the <a href=https://github.com/just-containers/s6-overlay rel=noopener target=_blank>s6 supervisor</a> and already has cron installed. It also has some commonly used tools bundled with it. So a perfect image for my use cases.<p>The S6 supervisor is also really practical, because you can map the UID and GID of every service you run in your container. And the services are always supervised, so they will restart if they fail.<p>Later i created some more variants of the image, one without <code>s6</code>, one with <code>nginx</code> preinstalled and one with <code>nginx+php</code>.<blockquote><p><code>compose.yml</code> snippet to map the UID and GID for the default user <code>abc</code> in a docker-compose file</blockquote><pre class=language-yml data-lang=yml style=color:#fdf4c1aa;background-color:#282828><code class=language-yml data-lang=yml><span style=color:#8ec07c;font-weight:700>environment</span><span>:
</span><span>    - </span><span style=color:#b8bb26>PUID=
</span><span>    - </span><span style=color:#b8bb26>PGID=
</span></code></pre></div></article></main><footer><hr><div id=footer-container><p>Made using <a rel="noopener noreferrer" href=https://github.com/Speyll/anemone target=_blank>anemone</a> Zola theme</div></footer><script defer src=https://vsfl.org/js/script.js></script>